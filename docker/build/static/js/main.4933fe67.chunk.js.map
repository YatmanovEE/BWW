{"version":3,"sources":["modules/join.ts","redux/types.ts","redux/reducers/theme.ts","redux/actions/theme.ts","components/ThemeColorInput.tsx","components/ThemeChangedWrapper.tsx","components/Burger.tsx","components/BlackboardWithWords.tsx","hooks/useTimer.ts","redux/actions/modal.ts","redux/actions/blackboardWithWords.ts","App.global.styled.ts","components/ThemeApp.tsx","App.global.className.ts","components/AnimatedPortal.tsx","components/Modal.tsx","App.tsx","redux/reducers/blackboardWithWords.ts","redux/reducers/modal.ts","redux/store/rootStore.ts","redux/saga.ts","index.tsx"],"names":["globalName","joinWithoutDouble","str","filter","strItem","index","indexOf","join","createClassName","className","list","forEach","item","Object","keys","includes","push","values","getGlobalName","ActionThemeReducer","ActionModalType","ActionBlackBoardWithWords","themeInitialState","errorColor","correctColor","shadowGeometry","shadowColorSecondary","bodyBackgroundColor","shadowColorPrimary","bodyColor","burgerBackgroundColor","burgerColor","funcInitialState","theme","localStorage","getItem","JSON","parse","changeTheme","payload","type","CHANGE","style","createUseStyles","container","margin","alignItems","connector","connect","keyTheme","title","dispatch","useDispatch","parseInt","value","onInput","e","currentTarget","ThemeChangedWrapper","map","key","burgerMenu","width","height","backgroundColor","color","main__container","justifyContent","marginLeft","marginRight","inputText","opacity","position","information__container","flexDirection","justifyItems","whiteSpace","padding","overflow","btn","marginTop","border","boxShadow","transition","corrector__container","correct","dateStart","cursor","span","error","name","createCorrector","arr","Array","isArray","slice","split","i","count","blackBoardWithWords","useState","setCorrect","text","corrector","setCorrector","useEffect","inputValue","setInputValue","countMistake","setCountMistake","url","urlValue","setUrlValue","textValue","setTextValue","endText","setEndText","shutdownСondition","duration","dateEnd","setDateEnd","setDateStart","timer","setInterval","Date","now","clearInterval","useTimer","inputRef","useRef","Math","round","length","onClick","component","OPEN","active","openModal","Burger","UPDATE_URL","UPDATE_TEXT","nodeRef","current","focus","ref","id","target","eValue","prev","random","globalStyle","body","a","outline","textDecoration","AppProvider","children","globalClassName","flex","display","wrap","flexWrap","none","IAnimatedPortal","AnimatedPortal","whereElem","activeState","setActive","render","setRender","queueMicrotask","setTimeout","ReactDOM","createPortal","CSSTransition","in","timeout","classNames","mountOnEnter","IModal","wrapper","left","top","transform","modal","Style","closeModalhandler","event","CLOSE","node","document","App","console","registryGlobalName","BlackboardWithWordsInitialState","initialState","rootReducer","combineReducers","state","action","setItem","stringify","sagaWatcher","fetchEvent","takeEvery","call","fetchPost","data","put","fetch","response","json","sagaMiddleware","createSagaMiddleware","mountStore","createStore","composeWithDevTools","applyMiddleware","run","StrictMode","store","getElementById"],"mappings":"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","file":"static/js/main.4933fe67.chunk.js","sourcesContent":["let globalName: ICreateClassName;\r\n\r\nexport function joinWithoutDouble(str: string[]): string {\r\n\treturn str\r\n\t\t.filter((strItem, index) => {\r\n\t\t\treturn str.indexOf(strItem) === index;\r\n\t\t})\r\n\t\t.join(' ');\r\n}\r\n//TODO Выдавать предупреждение, если стиль не обнаружен\r\n//NOTE Пока стиль, который не обнаружен просто отбрасывается\r\n\r\ninterface ICreateClassName {\r\n\t[key: string]: string;\r\n}\r\n\r\nexport function createClassName(className: ICreateClassName) {\r\n\treturn (...str: string[]) => {\r\n\t\tlet list: string[] = [];\r\n\t\tstr.forEach((item) => {\r\n\t\t\tif (globalName) {\r\n\t\t\t\tif (Object.keys(globalName).includes(item)) {\r\n\t\t\t\t\tlist.push(globalName[item]);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif (str.includes(item)) {\r\n\t\t\t\tlist.push(className[item]);\r\n\t\t\t}\r\n\t\t\tif (Object.values(className).includes(item)) {\r\n\t\t\t\tlist.push(item);\r\n\t\t\t}\r\n\r\n\t\t\t//TODO Решить как обрабатывать стили, которые совпадают по названию\r\n\t\t\t//NOTE Пока вставленные стили вставляются заранее, чем перечеркивают параметры глобальных стилей\r\n\t\t});\r\n\t\treturn joinWithoutDouble(list);\r\n\t};\r\n}\r\n\r\nexport function registryGlobalName(className: ICreateClassName): void {\r\n\tif (className) {\r\n\t\tif (globalName) {\r\n\t\t\tconsole.error('Уже зарегистрирован один глобальный стиль');\r\n\t\t} else {\r\n\t\t\tglobalName = className;\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport function getGlobalName() {\r\n\treturn (...str: string[]) => {\r\n\t\tlet list: string[] = [];\r\n\t\tstr.forEach((item) => {\r\n\t\t\tif (globalName) {\r\n\t\t\t\tif (Object.keys(globalName).includes(item)) {\r\n\t\t\t\t\tlist.push(globalName[item]);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t\treturn joinWithoutDouble(list);\r\n\t};\r\n}\r\n","export enum ActionThemeReducer {\r\n\tCHANGE = 'theme/CHANGE',\r\n}\r\n\r\nexport enum ActionModalType {\r\n\tOPEN = 'modal/OPEN',\r\n\tCLOSE = 'modal/CLOSE',\r\n}\r\n\r\nexport enum ActionBlackBoardWithWords {\r\n\tUPDATE_TEXT = 'blackBoardWithWords/UPDATE_TEXT',\r\n\tUPDATE_URL = 'blackBoardWithWords/UPDATE_URL',\r\n}\r\n","import { Reducer } from 'react';\r\nimport { ActionThemeReducer } from '../types';\r\nimport { IAction } from './types';\r\n\r\nexport type IReducerTheme<T> = IAction<ActionThemeReducer, T>;\r\n\r\nexport const themeInitialState = {\r\n\terrorColor: '#EE5353',\r\n\tcorrectColor: '#02F232',\r\n\tshadowGeometry: '4px 4px 8px 0px',\r\n\tshadowColorSecondary: '#D0D1D2',\r\n\tbodyBackgroundColor: '#FFFFFF',\r\n\tshadowColorPrimary: '#96A3AB',\r\n\tbodyColor: '#000000',\r\n\tburgerBackgroundColor: '#FFFFFF',\r\n\tburgerColor: '#000000',\r\n};\r\n\r\nconst funcInitialState = (): ITheme => {\r\n\tlet theme = localStorage.getItem('theme');\r\n\tif (theme) {\r\n\t\tlet ret: ITheme = JSON.parse(theme);\r\n\t\treturn ret;\r\n\t}\r\n\treturn themeInitialState;\r\n};\r\nexport type ITheme = typeof themeInitialState;\r\n\r\nexport const reducerTheme: Reducer<\r\n\ttypeof themeInitialState,\r\n\tIReducerTheme<typeof themeInitialState>\r\n> = (state = funcInitialState(), action) => {\r\n\tswitch (action.type) {\r\n\t\tcase ActionThemeReducer.CHANGE:\r\n\t\t\tlet theme = {\r\n\t\t\t\t...state,\r\n\t\t\t\t...action.payload,\r\n\t\t\t};\r\n\t\t\tlocalStorage.setItem('theme', JSON.stringify(theme));\r\n\t\t\treturn theme;\r\n\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n};\r\n","import { IReducerTheme, ITheme } from '../reducers/theme';\r\nimport { ActionThemeReducer } from '../types';\r\n\r\nexport function changeTheme<T extends Partial<ITheme>>(\r\n\tpayload: T\r\n): IReducerTheme<T> {\r\n\treturn {\r\n\t\ttype: ActionThemeReducer.CHANGE,\r\n\t\tpayload,\r\n\t};\r\n}\r\n","import { FC } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { IRootReducer } from './../redux/store/rootStore';\r\nimport { ConnectedProps, useDispatch } from 'react-redux';\r\nimport { changeTheme } from '../redux/actions/theme';\r\nimport { ITheme } from '../redux/reducers/theme';\r\nimport { createClassName } from '../modules/join';\r\nimport { createUseStyles } from 'react-jss';\r\ntype Props = ConnectedProps<typeof connector> & {\r\n\tkeyTheme: string & keyof ITheme;\r\n\ttitle?: string;\r\n};\r\n\r\nconst style = createUseStyles({\r\n\tcontainer: {\r\n\t\t'&>span': {\r\n\t\t\tmargin: '10px',\r\n\t\t},\r\n\t\talignItems: 'center',\r\n\t},\r\n});\r\nconst ThemeColorInput: FC<Props> = ({ theme, keyTheme, title }) => {\r\n\tconst dispatch = useDispatch();\r\n\tlet className = style();\r\n\tlet join = createClassName(className);\r\n\tif (!parseInt(theme[keyTheme])) {\r\n\t\treturn (\r\n\t\t\t<div className={join('flex', 'container')}>\r\n\t\t\t\t<input\r\n\t\t\t\t\ttype=\"color\"\r\n\t\t\t\t\tvalue={theme[keyTheme]}\r\n\t\t\t\t\tonInput={(e) =>\r\n\t\t\t\t\t\tdispatch(changeTheme({ [keyTheme]: e.currentTarget.value }))\r\n\t\t\t\t\t}\r\n\t\t\t\t/>\r\n\t\t\t\t<span>{title || keyTheme}</span>\r\n\t\t\t</div>\r\n\t\t);\r\n\t} else {\r\n\t\treturn null;\r\n\t}\r\n};\r\n\r\nconst mapStateToProps = ({ theme }: IRootReducer) => ({\r\n\ttheme,\r\n});\r\n\r\nlet connector = connect(mapStateToProps);\r\nexport default connector(ThemeColorInput);\r\n","import { FC } from 'react';\r\nimport { getGlobalName } from '../modules/join';\r\nimport { themeInitialState } from '../redux/reducers/theme';\r\nimport ThemeColorInput from './ThemeColorInput';\r\n\r\nexport const ThemeChangedWrapper: FC = () => {\r\n\tlet join = getGlobalName();\r\n\treturn (\r\n\t\t<div className={join('container')}>\r\n\t\t\t{(\r\n\t\t\t\tObject.keys(themeInitialState) as Array<keyof typeof themeInitialState>\r\n\t\t\t).map((item, key) => {\r\n\t\t\t\treturn <ThemeColorInput keyTheme={item} key={key}></ThemeColorInput>;\r\n\t\t\t})}\r\n\t\t</div>\r\n\t);\r\n};\r\n","import { connect, ConnectedProps } from 'react-redux';\r\nimport { FC } from 'react';\r\nimport { IRootReducer } from '../redux/store/rootStore';\r\nimport { ThemeChangedWrapper } from './ThemeChangedWrapper';\r\nimport { createUseStyles } from 'react-jss';\r\nimport { ITheme } from '../redux/reducers/theme';\r\n\r\ntype Props = ConnectedProps<typeof connector>;\r\nlet style = createUseStyles({\r\n\tburgerMenu: (theme: ITheme) => ({\r\n\t\twidth: '300px',\r\n\t\theight: '100%',\r\n\t\tbackgroundColor: theme.burgerBackgroundColor,\r\n\t\tcolor: theme.burgerColor,\r\n\t}),\r\n});\r\nexport const BurgerMenu: FC<Props> = ({ theme }) => {\r\n\tlet className = style(theme);\r\n\treturn (\r\n\t\t<div className={className.burgerMenu}>\r\n\t\t\t<ThemeChangedWrapper></ThemeChangedWrapper>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nconst mapStateToProps = ({ theme }: IRootReducer) => ({\r\n\ttheme,\r\n});\r\n\r\nlet connector = connect(mapStateToProps);\r\nexport default connector(BurgerMenu);\r\n","import { ChangeEventHandler, FC, useEffect, useRef, useState } from 'react';\r\nimport { connect, ConnectedProps, useDispatch } from 'react-redux';\r\nimport { createUseStyles } from 'react-jss';\r\nimport { createClassName } from '../modules/join';\r\nimport { useTimer } from '../hooks/useTimer';\r\nimport { ITheme, themeInitialState } from '../redux/reducers/theme';\r\nimport { IRootReducer } from '../redux/store/rootStore';\r\nimport { openModal } from '../redux/actions/modal';\r\nimport BurgerMenu from './Burger';\r\nimport { updateText, updateURL } from '../redux/actions/blackboardWithWords';\r\nimport { BlackboardWithWordsInitialState } from '../redux/reducers/blackboardWithWords';\r\nimport { changeTheme } from '../redux/actions/theme';\r\n\r\ntype IStyle = {\r\n\tcorrect: boolean;\r\n\tdateStart: number;\r\n\ttheme: ITheme;\r\n};\r\n\r\nlet style = createUseStyles(\r\n\t{\r\n\t\tmain__container: {\r\n\t\t\tjustifyContent: 'center',\r\n\t\t\tmarginLeft: 'auto',\r\n\t\t\tmarginRight: 'auto',\r\n\t\t},\r\n\t\tinputText: {\r\n\t\t\topacity: 0,\r\n\t\t\tposition: 'absolute',\r\n\t\t},\r\n\t\tinformation__container: {\r\n\t\t\tflexDirection: 'column',\r\n\t\t\tjustifyContent: 'flex-start',\r\n\t\t\tjustifyItems: 'center',\r\n\t\t\twhiteSpace: 'nowrap',\r\n\t\t\tpadding: '10px',\r\n\t\t\twidth: '300px',\r\n\t\t\toverflow: 'hidden',\r\n\t\t},\r\n\t\tbtn: ({ theme }) => ({\r\n\t\t\tmarginTop: '10px',\r\n\t\t\tborder: `1px ${theme.shadowColorSecondary} solid`,\r\n\t\t\tboxShadow: theme.shadowGeometry + theme.shadowColorSecondary,\r\n\t\t\ttransition: 'box-shadow 0.2s ease',\r\n\t\t\t'&:active': {\r\n\t\t\t\tboxShadow: 'none',\r\n\t\t\t},\r\n\t\t}),\r\n\t\tcorrector__container: ({ correct, dateStart, theme }: IStyle) => ({\r\n\t\t\tborder: dateStart\r\n\t\t\t\t? correct\r\n\t\t\t\t\t? ` 1px solid ${theme.correctColor}`\r\n\t\t\t\t\t: ` 1px solid ${theme.errorColor}`\r\n\t\t\t\t: '1px solid transparent',\r\n\t\t\twidth: '300px',\r\n\t\t\theight: '300px',\r\n\t\t\toverflow: 'clip',\r\n\t\t\tcursor: 'text',\r\n\t\t\tpadding: '10px',\r\n\t\t\tboxShadow: theme.shadowGeometry + theme.shadowColorPrimary,\r\n\t\t\ttransition: 'box-shadow 1s ease, border 1s ease ',\r\n\t\t\t'&:hover': {\r\n\t\t\t\tboxShadow: theme.shadowGeometry + theme.shadowColorSecondary,\r\n\t\t\t},\r\n\t\t}),\r\n\t\tspan: {},\r\n\t\tcorrect: ({ theme }) => ({\r\n\t\t\tcolor: 'white',\r\n\t\t\tbackgroundColor: theme.correctColor,\r\n\t\t}),\r\n\t\terror: ({ theme }) => ({\r\n\t\t\tcolor: 'white',\r\n\t\t\tbackgroundColor: theme.errorColor,\r\n\t\t}),\r\n\t},\r\n\t{ name: 'BlackboardWithWords' }\r\n);\r\n\r\nfunction createCorrector(str: string): ICorrector[] {\r\n\tlet arr: ICorrector[] = [];\r\n\tif (Array.isArray(str)) {\r\n\t\tstr = str.join(',');\r\n\t}\r\n\tstr\r\n\t\t.slice(0, 700)\r\n\t\t.split('')\r\n\t\t.forEach((item, i) => {\r\n\t\t\tarr.push({\r\n\t\t\t\tcount: i,\r\n\t\t\t\tcorrect: null,\r\n\t\t\t\tvalue: item,\r\n\t\t\t});\r\n\t\t});\r\n\treturn arr;\r\n}\r\n\r\ntype Props = ConnectedProps<typeof connector>;\r\n\r\ntype ICorrector = {\r\n\tcount: number;\r\n\tcorrect: boolean | null;\r\n\tvalue: string;\r\n};\r\nfunction refFocus(nodeRef: React.RefObject<HTMLElement>) {\r\n\tif (nodeRef?.current) {\r\n\t\tnodeRef.current.focus();\r\n\t}\r\n}\r\n\r\nconst BlackboardWithWords: FC<Props> = ({ theme, blackBoardWithWords }) => {\r\n\tconst [correct, setCorrect] = useState(true);\r\n\tconst [corrector, setCorrector] = useState<ICorrector[]>(\r\n\t\tcreateCorrector(blackBoardWithWords.text)\r\n\t);\r\n\r\n\tuseEffect(() => {\r\n\t\tsetCorrector(createCorrector(blackBoardWithWords.text));\r\n\t}, [blackBoardWithWords.text]);\r\n\tconst [inputValue, setInputValue] = useState('');\r\n\tconst [countMistake, setCountMistake] = useState(0);\r\n\tconst [urlValue, setUrlValue] = useState(blackBoardWithWords.url);\r\n\tconst [textValue, setTextValue] = useState(blackBoardWithWords.text);\r\n\tconst [endText, setEndText] = useState(false);\r\n\tconst dispatch = useDispatch();\r\n\r\n\tconst { dateEnd, setDateStart, dateStart } = useTimer(endText, 100);\r\n\r\n\tlet inputRef = useRef<HTMLInputElement>(null);\r\n\tlet className = style({\r\n\t\tcorrect,\r\n\t\tdateStart,\r\n\t\ttheme,\r\n\t});\r\n\tlet join = createClassName(className);\r\n\r\n\tfunction focusHandler() {\r\n\t\trefFocus(inputRef);\r\n\t}\r\n\tfunction reset() {\r\n\t\tsetCorrect(true);\r\n\t\tsetInputValue('');\r\n\t\tsetCountMistake(0);\r\n\t\tsetEndText(false);\r\n\t\tsetDateStart(0);\r\n\t}\r\n\r\n\tconst inputHandler: ChangeEventHandler<HTMLInputElement> = (e) => {\r\n\t\tif (e.target.value.length <= 1) setDateStart(Date.now());\r\n\t\tif (corrector.length < e.target.value.length) return;\r\n\t\tlet eValue = e.target.value[inputValue.length];\r\n\t\tif (corrector[inputValue.length].value === eValue) {\r\n\t\t\tsetCorrect(true);\r\n\t\t\tcorrector[inputValue.length].correct = true;\r\n\t\t\tsetInputValue(e.target.value);\r\n\t\t} else {\r\n\t\t\tsetCorrect(false);\r\n\t\t\tif (correct) {\r\n\t\t\t\tsetCountMistake((prev) => prev + 1);\r\n\t\t\t}\r\n\t\t\tcorrector[inputValue.length].correct = false;\r\n\t\t}\r\n\t\tif (corrector.length - 1 <= e.target.value.length) {\r\n\t\t\treturn setEndText(true);\r\n\t\t}\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div className={join('flex', 'main__container', 'container', 'wrap')}>\r\n\t\t\t<div className={join('information__container', 'container', 'flex')}>\r\n\t\t\t\t<div>Затраченное время:{dateEnd}</div>\r\n\t\t\t\t<div className=\"\">\r\n\t\t\t\t\t<span>Процент ошибок:</span>\r\n\t\t\t\t\t<span>\r\n\t\t\t\t\t\t{Math.round((countMistake / corrector.length) * 100 * 100) / 100}%\r\n\t\t\t\t\t</span>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"\">\r\n\t\t\t\t\t<span>Скорость написания в секунду:</span>\r\n\t\t\t\t\t<span>\r\n\t\t\t\t\t\t{Math.round((inputValue.length * 100) / dateEnd) / 100 || 0}\r\n\t\t\t\t\t</span>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"\">\r\n\t\t\t\t\t<span>Скорость написания в минуту:</span>\r\n\t\t\t\t\t<span>\r\n\t\t\t\t\t\t{Math.round((inputValue.length * 60 * 100) / dateEnd) / 100 || 0}\r\n\t\t\t\t\t</span>\r\n\t\t\t\t</div>\r\n\t\t\t\t<button className={join('btn')} onClick={() => reset()}>\r\n\t\t\t\t\tСбросить\r\n\t\t\t\t</button>\r\n\t\t\t\t<button\r\n\t\t\t\t\tclassName={join('btn')}\r\n\t\t\t\t\tonClick={() => dispatch(openModal({ component: <BurgerMenu /> }))}\r\n\t\t\t\t>\r\n\t\t\t\t\tОткрыть настройки\r\n\t\t\t\t</button>\r\n\t\t\t\t<input\r\n\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\tvalue={urlValue}\r\n\t\t\t\t\tonInput={(e) => setUrlValue(e.currentTarget.value)}\r\n\t\t\t\t/>\r\n\t\t\t\t<button\r\n\t\t\t\t\tclassName={join('btn')}\r\n\t\t\t\t\tonClick={() => dispatch(updateURL({ url: urlValue }))}\r\n\t\t\t\t>\r\n\t\t\t\t\tЗагрузить текст\r\n\t\t\t\t</button>\r\n\t\t\t\t<input\r\n\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\tvalue={textValue}\r\n\t\t\t\t\tonInput={(e) => setTextValue(e.currentTarget.value)}\r\n\t\t\t\t/>\r\n\t\t\t\t<button\r\n\t\t\t\t\tclassName={join('btn')}\r\n\t\t\t\t\tonClick={() => dispatch(updateText({ text: textValue }))}\r\n\t\t\t\t>\r\n\t\t\t\t\tИзменить текст\r\n\t\t\t\t</button>\r\n\t\t\t\t<button\r\n\t\t\t\t\tclassName={join('btn')}\r\n\t\t\t\t\tonClick={() => dispatch(changeTheme(themeInitialState))}\r\n\t\t\t\t>\r\n\t\t\t\t\tСбросить цвета\r\n\t\t\t\t</button>\r\n\t\t\t</div>\r\n\r\n\t\t\t<div\r\n\t\t\t\tclassName={join('container', 'corrector__container')}\r\n\t\t\t\tonClick={focusHandler}\r\n\t\t\t>\r\n\t\t\t\t<input\r\n\t\t\t\t\tref={inputRef}\r\n\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\tname=\"\"\r\n\t\t\t\t\tid=\"\"\r\n\t\t\t\t\tclassName={join('inputText')}\r\n\t\t\t\t\tonInput={inputHandler}\r\n\t\t\t\t\tvalue={inputValue}\r\n\t\t\t\t/>\r\n\t\t\t\t{corrector.map((item, key) => {\r\n\t\t\t\t\treturn (\r\n\t\t\t\t\t\t<span\r\n\t\t\t\t\t\t\tclassName={join(\r\n\t\t\t\t\t\t\t\t'span',\r\n\t\t\t\t\t\t\t\titem.correct !== null\r\n\t\t\t\t\t\t\t\t\t? item.correct\r\n\t\t\t\t\t\t\t\t\t\t? 'correct'\r\n\t\t\t\t\t\t\t\t\t\t: 'error'\r\n\t\t\t\t\t\t\t\t\t: 'undefined'\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\tkey={key * Math.random()}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{item.value}\r\n\t\t\t\t\t\t</span>\r\n\t\t\t\t\t);\r\n\t\t\t\t})}\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nconst mapStateToProps = ({ theme, blackBoardWithWords }: IRootReducer) => ({\r\n\ttheme,\r\n\tblackBoardWithWords: blackBoardWithWords,\r\n});\r\n\r\nlet connector = connect(mapStateToProps);\r\nexport default connector(BlackboardWithWords);\r\n","import { useEffect, useState } from 'react';\r\n/**\r\n *\r\n * @param shutdownСondition Condition when timer will be is deading\r\n * @param duration Timer update time\r\n * @returns  useState Hook Tuples items for Start and End Date in obj { dateEnd, setDateEnd, dateStart, setDateStart }\r\n */\r\nexport const useTimer = (shutdownСondition: boolean, duration: number) => {\r\n\tconst [dateEnd, setDateEnd] = useState(0);\r\n\tconst [dateStart, setDateStart] = useState(0);\r\n\r\n\tuseEffect(() => {\r\n\t\tlet timer = setInterval(() => {\r\n\t\t\tif (dateStart) {\r\n\t\t\t\tsetDateEnd((Date.now() - dateStart) / 1000);\r\n\t\t\t}\r\n\t\t}, duration);\r\n\t\tif (shutdownСondition) {\r\n\t\t\tclearInterval(timer);\r\n\t\t}\r\n\t\treturn () => clearInterval(timer);\r\n\t});\r\n\treturn { dateEnd, setDateEnd, dateStart, setDateStart };\r\n};\r\n","import { IModalState } from '../reducers/modal';\r\nimport { IAction } from '../reducers/types';\r\nimport { ActionModalType } from '../types';\r\n\r\nexport type IModalAction<T> = IAction<ActionModalType, T>;\r\n\r\nexport declare type ModalAction<T> = (payload: T) => IModalAction<IModalState>;\r\nexport type IModalTypeOpen = {\r\n\tcomponent: React.ReactElement;\r\n};\r\n\r\n/**\r\n * @param component must have a closeModal action button.\r\n *\r\n */\r\nexport const openModal: ModalAction<IModalTypeOpen> = ({ component }) => {\r\n\treturn {\r\n\t\ttype: ActionModalType.OPEN,\r\n\t\tpayload: {\r\n\t\t\tactive: true,\r\n\t\t\tcomponent,\r\n\t\t},\r\n\t};\r\n};\r\nexport const closeModal = (): IModalAction<IModalState> => {\r\n\treturn {\r\n\t\ttype: ActionModalType.CLOSE,\r\n\t\tpayload: {\r\n\t\t\tactive: false,\r\n\t\t\tcomponent: null,\r\n\t\t},\r\n\t};\r\n};\r\n","import {\r\n\tBlackboardWithWordsState,\r\n\tIReducerBlackboardWithWords,\r\n} from '../reducers/blackboardWithWords';\r\nimport { ActionBlackBoardWithWords } from '../types';\r\n\r\nexport function updateText<T extends Partial<BlackboardWithWordsState>>(\r\n\tpayload: T\r\n): IReducerBlackboardWithWords<T> {\r\n\treturn {\r\n\t\ttype: ActionBlackBoardWithWords.UPDATE_TEXT,\r\n\t\tpayload: {\r\n\t\t\t...payload,\r\n\t\t\ttext: payload.text,\r\n\t\t},\r\n\t};\r\n}\r\nexport function updateURL<T extends Partial<BlackboardWithWordsState>>(\r\n\tpayload: T\r\n): IReducerBlackboardWithWords<T> {\r\n\treturn {\r\n\t\ttype: ActionBlackBoardWithWords.UPDATE_URL,\r\n\t\tpayload: {\r\n\t\t\t...payload,\r\n\t\t\turl: payload.url,\r\n\t\t},\r\n\t};\r\n}\r\n","import { createUseStyles } from 'react-jss';\r\nimport { ITheme } from './redux/reducers/theme';\r\n\r\nexport const globalStyle = createUseStyles((theme: ITheme) => ({\r\n\t'@global': {\r\n\t\tbody: {\r\n\t\t\tbackgroundColor: theme.bodyBackgroundColor,\r\n\t\t\tcolor: theme.bodyColor,\r\n\t\t},\r\n\t\ta: {\r\n\t\t\toutline: 'none',\r\n\t\t\ttextDecoration: 'none',\r\n\t\t},\r\n\t},\r\n}));\r\n","import { ConnectedProps, connect } from 'react-redux';\r\nimport { IRootReducer } from '../redux/store/rootStore';\r\nimport { ThemeProvider } from 'react-jss';\r\nimport { FC } from 'react';\r\nimport { globalStyle } from '../App.global.styled';\r\n\r\nconst ThemeApp: FC<ConnectedProps<typeof connector>> = ({\r\n\ttheme,\r\n\tchildren,\r\n}) => {\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<ThemeProvider theme={{ ...theme }}>\r\n\t\t\t\t<AppProvider>{children}</AppProvider>\r\n\t\t\t</ThemeProvider>\r\n\t\t</>\r\n\t);\r\n};\r\n// TODO При использовании ThemeProvider утечка памяти, стили добавляются в дом бесконтрольно\r\n\r\nconst AppProvider: FC = ({ children }) => {\r\n\tglobalStyle();\r\n\r\n\treturn <>{children}</>;\r\n};\r\nconst mapStateToProps = ({ theme }: IRootReducer) => ({\r\n\ttheme,\r\n});\r\n\r\nlet connector = connect(mapStateToProps);\r\nexport default connector(ThemeApp);\r\n","import { createUseStyles } from 'react-jss';\r\n\r\nexport const globalClassName = createUseStyles(\r\n\t{\r\n\t\tflex: {\r\n\t\t\tdisplay: 'flex',\r\n\t\t},\r\n\t\twrap: {\r\n\t\t\tflexWrap: 'wrap',\r\n\t\t},\r\n\t\tbtn: {\r\n\t\t\tborder: 'none',\r\n\t\t\tpadding: '10px',\r\n\t\t\tbackgroundColor: 'transparent',\r\n\t\t\tcursor: 'pointer',\r\n\t\t},\r\n\t\tnone: {\r\n\t\t\tdisplay: 'none',\r\n\t\t},\r\n\t\tcontainer: {\r\n\t\t\tpadding: '10px',\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'global',\r\n\t}\r\n);\r\n","import { ReactChild, FC, useState, useEffect } from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { CSSTransition } from 'react-transition-group';\r\n\r\nnamespace IAnimatedPortal {\r\n\texport interface Props {\r\n\t\tchildren?: ReactChild;\r\n\t\twhereElem: Element;\r\n\t\tduration: number;\r\n\t\t//TODO Найти какой тип для truthy and falsy значений\r\n\t\tactiveState: any;\r\n\t\tnodeRef: React.RefObject<HTMLDivElement>;\r\n\t\tclassName: string;\r\n\t}\r\n}\r\n/**\r\n * @param whereElem element, where Portal is created\r\n * @param duration animation-duration\r\n * @param activeState truthy or falsy variable, when component will be returned portal or returned null\r\n * @param nodeRef ref wrapper that will be animated\r\n * @param wrapper class name that will be animated\r\n * @returns Portal or Null\r\n */\r\nexport const AnimatedPortal: FC<IAnimatedPortal.Props> = ({\r\n\twhereElem,\r\n\tduration,\r\n\tactiveState,\r\n\tnodeRef,\r\n\tchildren,\r\n\tclassName,\r\n}) => {\r\n\tconst [active, setActive] = useState(false);\r\n\tconst [render, setRender] = useState(false);\r\n\tuseEffect(() => {\r\n\t\tif (activeState) {\r\n\t\t\tsetRender(activeState);\r\n\t\t\tqueueMicrotask(() => setActive(true));\r\n\t\t} else {\r\n\t\t\tsetActive(false);\r\n\t\t\tsetTimeout(() => {\r\n\t\t\t\tsetRender(activeState);\r\n\t\t\t}, duration);\r\n\t\t}\r\n\t}, [duration, activeState]);\r\n\tif (render) {\r\n\t\treturn ReactDOM.createPortal(\r\n\t\t\t<CSSTransition\r\n\t\t\t\tin={active}\r\n\t\t\t\ttimeout={duration}\r\n\t\t\t\tclassNames={className}\r\n\t\t\t\tnodeRef={nodeRef}\r\n\t\t\t\tmountOnEnter\r\n\t\t\t>\r\n\t\t\t\t{children}\r\n\t\t\t</CSSTransition>,\r\n\t\t\twhereElem\r\n\t\t);\r\n\t}\r\n\treturn null;\r\n};\r\n","import { ReactChild, SyntheticEvent } from 'react';\r\nimport { FC, useRef } from 'react';\r\nimport { createUseStyles } from 'react-jss';\r\nimport { connect, ConnectedProps, useDispatch } from 'react-redux';\r\nimport { closeModal } from '../redux/actions/modal';\r\nimport { ITheme } from '../redux/reducers/theme';\r\nimport { IRootReducer } from '../redux/store/rootStore';\r\nimport { AnimatedPortal } from './AnimatedPortal';\r\n\r\nnamespace IModal {\r\n\texport interface Props extends ConnectedProps<typeof connector> {\r\n\t\tchildren?: ReactChild;\r\n\t}\r\n\texport const Style = createUseStyles(\r\n\t\t(theme: ITheme) => ({\r\n\t\t\twrapper: (duration: number) => ({\r\n\t\t\t\tposition: 'fixed',\r\n\t\t\t\twidth: '100%',\r\n\t\t\t\theight: '100%',\r\n\t\t\t\tleft: '0px',\r\n\t\t\t\ttop: '0px',\r\n\t\t\t\ttransform: 'translateX(-300%)',\r\n\t\t\t\t'&-enter': {\r\n\t\t\t\t\ttransform: 'translateX(-300%)',\r\n\t\t\t\t},\r\n\t\t\t\t'&-enter-active': {\r\n\t\t\t\t\ttransform: 'translateX(0%)',\r\n\t\t\t\t\ttransition: `transform ${duration}ms`,\r\n\t\t\t\t},\r\n\t\t\t\t'&-enter-done': {\r\n\t\t\t\t\ttransform: 'translateX(0%)',\r\n\t\t\t\t},\r\n\t\t\t\t'&-exit': {\r\n\t\t\t\t\ttransform: 'translateX(0%)',\r\n\t\t\t\t},\r\n\t\t\t\t'&-exit-active': {\r\n\t\t\t\t\ttransform: 'translateX(-300%)',\r\n\t\t\t\t\ttransition: `transform ${duration}ms`,\r\n\t\t\t\t},\r\n\t\t\t}),\r\n\t\t\tcontainer: {\r\n\t\t\t\tdisplay: 'flex',\r\n\t\t\t\theight: '100%',\r\n\t\t\t},\r\n\t\t}),\r\n\t\t{ name: 'Modal' }\r\n\t);\r\n}\r\n\r\nconst Modal: FC<IModal.Props> = ({ modal }) => {\r\n\tlet duration = 200;\r\n\tlet className = IModal.Style(duration);\r\n\tlet dispatch = useDispatch();\r\n\tfunction closeModalhandler(event: SyntheticEvent<HTMLDivElement>): void {\r\n\t\tif (event.target === event.currentTarget) {\r\n\t\t\tdispatch(closeModal());\r\n\t\t}\r\n\t}\r\n\tlet node = useRef(null);\r\n\treturn (\r\n\t\t<AnimatedPortal\r\n\t\t\twhereElem={document.body}\r\n\t\t\tduration={duration}\r\n\t\t\tactiveState={modal.active}\r\n\t\t\tnodeRef={node}\r\n\t\t\tclassName={className.wrapper}\r\n\t\t>\r\n\t\t\t<div className={className.wrapper} ref={node}>\r\n\t\t\t\t<div\r\n\t\t\t\t\tclassName={className.container}\r\n\t\t\t\t\tonClick={(e: SyntheticEvent<HTMLDivElement>) => closeModalhandler(e)}\r\n\t\t\t\t>\r\n\t\t\t\t\t{modal.component}\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</AnimatedPortal>\r\n\t);\r\n};\r\n\r\nconst mapStateToProps = ({ modal }: IRootReducer) => ({\r\n\tmodal,\r\n});\r\n\r\nconst connector = connect(mapStateToProps);\r\nexport default connector(Modal);\r\n","import { getGlobalName, registryGlobalName } from './modules/join';\r\nimport BlackboardWithWords from './components/BlackboardWithWords';\r\nimport ThemeApp from './components/ThemeApp';\r\nimport { ThemeChangedWrapper } from './components/ThemeChangedWrapper';\r\nimport { globalClassName } from './App.global.className';\r\nimport Modal from './components/Modal';\r\n\r\nconst App = () => {\r\n\tlet className = globalClassName();\r\n\tregistryGlobalName(className);\r\n\tlet join = getGlobalName();\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<ThemeApp>\r\n\t\t\t\t<div className={join('flex', 'wrap')}>\r\n\t\t\t\t\t<BlackboardWithWords></BlackboardWithWords>\r\n\t\t\t\t</div>\r\n\t\t\t</ThemeApp>\r\n\t\t\t<Modal></Modal>\r\n\t\t</>\r\n\t);\r\n};\r\n\r\nexport default App;\r\n","import { Reducer } from 'react';\r\nimport { ActionBlackBoardWithWords } from '../types';\r\nimport { IAction } from './types';\r\n\r\nexport type IReducerBlackboardWithWords<T> = IAction<\r\n\tActionBlackBoardWithWords,\r\n\tT\r\n>;\r\n\r\nexport const BlackboardWithWordsInitialState = {\r\n\ttext: 'Привет. URL проверялся только тот, который введен в input. ',\r\n\turl: 'https://baconipsum.com/api/?type=meat-and-filler',\r\n};\r\nexport type BlackboardWithWordsState = typeof BlackboardWithWordsInitialState;\r\n\r\nconst funcInitialState = (): typeof BlackboardWithWordsInitialState => {\r\n\tlet text = localStorage.getItem('text');\r\n\tif (text) {\r\n\t\tlet ret: BlackboardWithWordsState = JSON.parse(text);\r\n\t\treturn ret;\r\n\t}\r\n\treturn BlackboardWithWordsInitialState;\r\n};\r\n\r\nexport const reducerBlackboardWithWords: Reducer<\r\n\ttypeof BlackboardWithWordsInitialState,\r\n\tIReducerBlackboardWithWords<typeof BlackboardWithWordsInitialState>\r\n> = (state = funcInitialState(), action) => {\r\n\tswitch (action.type) {\r\n\t\tcase ActionBlackBoardWithWords.UPDATE_TEXT:\r\n\t\t\tlet text = {\r\n\t\t\t\t...state,\r\n\t\t\t\t...action.payload,\r\n\t\t\t};\r\n\r\n\t\t\tlocalStorage.setItem('text', JSON.stringify(text));\r\n\t\t\treturn text;\r\n\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n};\r\n","import { Reducer } from 'react';\r\nimport { IModalAction } from '../actions/modal';\r\nimport { ActionModalType } from '../types';\r\n\r\nexport interface IModalState {\r\n\tactive: boolean;\r\n\tcomponent: React.ReactElement | null;\r\n}\r\n\r\nconst initialState: IModalState = {\r\n\tactive: false,\r\n\tcomponent: null,\r\n};\r\n\r\nexport type IModalReducer = IModalState;\r\n\r\nexport const ModalReducer: Reducer<IModalState, IModalAction<IModalReducer>> = (\r\n\tstate = initialState,\r\n\taction\r\n) => {\r\n\tswitch (action.type) {\r\n\t\tcase ActionModalType.OPEN:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\t...action.payload,\r\n\t\t\t};\r\n\t\tcase ActionModalType.CLOSE:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tactive: action.payload.active,\r\n\t\t\t};\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n};\r\n","import { combineReducers } from 'redux';\r\nimport {\r\n\tBlackboardWithWordsState,\r\n\treducerBlackboardWithWords,\r\n} from '../reducers/blackboardWithWords';\r\n\r\nimport { IModalState, ModalReducer } from '../reducers/modal';\r\nimport { ITheme, reducerTheme } from '../reducers/theme';\r\n\r\nexport interface IRootReducer {\r\n\ttheme: ITheme;\r\n\tmodal: IModalState;\r\n\tblackBoardWithWords: BlackboardWithWordsState;\r\n}\r\n\r\n//TODO Найти связать интерфейс и rootReducer\r\n\r\nexport const rootReducer = combineReducers({\r\n\ttheme: reducerTheme,\r\n\tmodal: ModalReducer,\r\n\tblackBoardWithWords: reducerBlackboardWithWords,\r\n});\r\n","import { takeEvery, call, put } from 'redux-saga/effects';\r\nimport {\r\n\tIReducerBlackboardWithWords,\r\n\tBlackboardWithWordsState,\r\n} from './reducers/blackboardWithWords';\r\nimport { ActionBlackBoardWithWords } from './types';\r\n\r\nexport function* sagaWatcher() {\r\n\tyield takeEvery(ActionBlackBoardWithWords.UPDATE_URL, fetchEvent);\r\n}\r\nfunction* fetchEvent({\r\n\tpayload,\r\n}: IReducerBlackboardWithWords<BlackboardWithWordsState>) {\r\n\ttry {\r\n\t\tconst data: JSON = yield call(fetchPost, payload.url);\r\n\r\n\t\tyield put({\r\n\t\t\ttype: ActionBlackBoardWithWords.UPDATE_TEXT,\r\n\t\t\tpayload: {\r\n\t\t\t\t...payload,\r\n\t\t\t\ttext: data,\r\n\t\t\t},\r\n\t\t});\r\n\t} catch (e) {\r\n\t\tyield console.error(e); //for now\r\n\t}\r\n}\r\n\r\nasync function fetchPost(url: string): Promise<JSON> {\r\n\ttry {\r\n\t\tlet response = await fetch(url);\r\n\t\treturn response.json();\r\n\t} catch (e) {\r\n\t\tthrow console.error(e);\r\n\t}\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { Store, createStore, applyMiddleware } from 'redux';\r\nimport App from './App';\r\nimport { IRootReducer, rootReducer } from './redux/store/rootStore';\r\nimport reportWebVitals from './reportWebVitals';\r\nimport { composeWithDevTools } from 'redux-devtools-extension';\r\nimport createSagaMiddleware from 'redux-saga';\r\nimport { Provider } from 'react-redux';\r\nimport { sagaWatcher } from './redux/saga';\r\n\r\nconst sagaMiddleware = createSagaMiddleware();\r\n\r\nfunction store(initialState: IRootReducer): Store<IRootReducer> {\r\n\treturn createStore(\r\n\t\trootReducer,\r\n\t\tcomposeWithDevTools(applyMiddleware(sagaMiddleware))\r\n\t);\r\n}\r\n\r\nlet init: any = {};\r\n\r\nlet mountStore = store(init);\r\nsagaMiddleware.run(sagaWatcher);\r\nReactDOM.render(\r\n\t<React.StrictMode>\r\n\t\t<Provider store={mountStore}>\r\n\t\t\t<App />\r\n\t\t</Provider>\r\n\t</React.StrictMode>,\r\n\tdocument.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\n"],"sourceRoot":""}